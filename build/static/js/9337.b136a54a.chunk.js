"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9337],{33984:function(e,s,l){var a=l(27998),t=l(46417);s.Z=e=>{let{visible:s,popupMsg:l,onClose:i}=e;return(0,t.jsxs)(a.Tk,{size:"sm",visible:s,onClose:i,children:[(0,t.jsx)(a.p0,{children:(0,t.jsx)(a.fl,{children:"Error"})}),(0,t.jsx)(a.sD,{children:l})]})}},7174:function(e,s,l){var a=l(27998),t=l(46417);s.Z=e=>{let{visible:s,popupMsg:l,onClose:i}=e;return(0,t.jsxs)(a.Tk,{size:"sm",visible:s,onClose:i,children:[(0,t.jsx)(a.p0,{children:(0,t.jsx)(a.fl,{children:"Success"})}),(0,t.jsx)(a.sD,{children:l})]})}},89337:function(e,s,l){l.r(s),l.d(s,{default:function(){return u}});var a=l(47313),t=l(31881),i=l.n(t),r=l(27998),o=l(46417);var n=e=>{let{visible:s,onClose:l,formContent:t,onEdit:i,onDelete:n,onCloseEdit:c}=e;const[d,m]=(0,a.useState)(""),[u,p]=(0,a.useState)(!1),[h,x]=(0,a.useState)(""),[j,f]=(0,a.useState)(!1),[v,b]=(0,a.useState)(""),[_,g]=(0,a.useState)(!1),[y,C]=(0,a.useState)(""),[N,S]=(0,a.useState)(!1),[E,k]=(0,a.useState)(""),[L,D]=(0,a.useState)(!1),[T,V]=(0,a.useState)(""),[w,A]=(0,a.useState)(!1);return(0,o.jsxs)(r.Tk,{visible:s,size:"lg",backdrop:"static",onClose:l,children:[(0,o.jsx)(r.p0,{children:(0,o.jsx)(r.fl,{children:"Edit email address"})}),(0,o.jsx)(r.sD,{children:(0,o.jsxs)(r.lx,{className:"add-user row g-3 needs-validation justify-content-center",onSubmit:e=>{let s;e.preventDefault(),s={uid:t.uid,email_address:j?h:t.email_address,email_type:_?v:t.email_type,display_name:N?y:t.display_name,profile:L?E:t.profile,email_status:w?T:t.email_status},p(!1),f(!1),g(!1),S(!1),D(!1),A(!1),console.log("from Edit Modal: ",s),i(s)},children:[(0,o.jsxs)(r.rb,{className:"mb-3",children:[(0,o.jsxs)(r.b7,{md:2,children:[(0,o.jsx)(r.L8,{htmlFor:"uid",className:'className="col-sm-2 col-form-label',children:"UID"}),(0,o.jsx)(r.jO,{className:"form-control",type:"text",name:"uid",id:"uid",placeholder:"User ID",defaultValue:t.uid,onChange:e=>{p(!0),m(e.target.value.trim())},maxLength:45,required:!0})]}),(0,o.jsxs)(r.b7,{md:6,children:[(0,o.jsx)(r.L8,{htmlFor:"email",className:'className="col-sm-2 col-form-label',children:"Email address"}),(0,o.jsx)(r.jO,{className:"form-control",type:"text",name:"email",id:"email",placeholder:"Email Address",defaultValue:t.email_address,onChange:e=>{x(e.target.value.trim()),f(!0)},maxLength:45,required:!0})]}),(0,o.jsxs)(r.b7,{md:2,children:[(0,o.jsx)(r.L8,{htmlFor:"type",className:'className="col-sm-2 col-form-label',children:"Type"}),(0,o.jsxs)(r.LX,{className:"form-select",id:"type",onChange:e=>{b(e.target.value),g(!0)},defaultValue:t.email_type,required:!0,children:[(0,o.jsx)("option",{disabled:!0,children:"Select type"}),(0,o.jsx)("option",{value:"VA",children:"VA"}),(0,o.jsx)("option",{value:"365",children:"365"}),(0,o.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,o.jsxs)(r.b7,{md:6,children:[(0,o.jsx)(r.L8,{htmlFor:"display-name",className:'className="col-sm-2 col-form-label',children:"Display Name"}),(0,o.jsx)(r.jO,{className:"form-control",type:"text",name:"display-name",id:"display-name",placeholder:"Email Address",defaultValue:t.display_name,onChange:e=>{C(e.target.value.trim()),S(!0)},maxLength:45,required:!0})]}),(0,o.jsxs)(r.b7,{md:2,children:[(0,o.jsx)(r.L8,{htmlFor:"profile",className:'className="col-sm-2 col-form-label',children:"Profile"}),(0,o.jsxs)(r.LX,{className:"form-select",id:"profile",onChange:e=>{b(e.target.value),g(!0)},defaultValue:t.profile,children:[(0,o.jsx)("option",{value:"",children:"Profile"}),(0,o.jsx)("option",{value:"copper",children:"copper"}),(0,o.jsx)("option",{value:"silver",children:"silver"}),(0,o.jsx)("option",{value:"bronze",children:"bronze"})]})]}),(0,o.jsxs)(r.b7,{md:2,children:[(0,o.jsx)(r.L8,{htmlFor:"status",className:'className="col-sm-2 col-form-label',children:"Status"}),(0,o.jsxs)(r.LX,{className:"form-select",id:"status",onChange:e=>{V(e.target.value),A(!0)},defaultValue:t.email_status,required:!0,children:[(0,o.jsx)("option",{disabled:!0,children:"Status"}),(0,o.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,o.jsx)("option",{value:"TBC",children:"To be closed"}),(0,o.jsx)("option",{value:"INACTIVE",children:"Inactive"})]})]})]}),(0,o.jsxs)(r.b7,{xs:12,className:"modal-footer",children:[(0,o.jsx)(r.u5,{color:"secondary",onClick:c,children:"Cancel"}),(0,o.jsx)(r.u5,{color:"primary",onClick:()=>n(t.dev_id),children:"Delete user"}),(0,o.jsx)(r.u5,{color:"primary",type:"submit",children:"Save changes"})]})]})})]})},c=l(7174),d=l(33984),m=l(75903);l(43533);var u=()=>{const[e,s]=(0,a.useState)([]),[l,t]=(0,a.useState)(!1),[r,u]=(0,a.useState)({}),[p,h]=(0,a.useState)({}),[x,j]=(0,a.useState)(!1),[f,v]=(0,a.useState)(!1),[b,_]=(0,a.useState)(""),g=async()=>{console.log("fetching data..."),i().get("".concat(config.api,"/api/email-addresses")).then((e=>{s(e.data)}))};(0,a.useEffect)((()=>{setTimeout((()=>{g()}),2e3)}),[s]);const y=()=>{t(!1)},C=e=>{_(e),v(!f)};return(0,o.jsxs)("div",{className:"table",children:[(0,o.jsx)(c.Z,{visible:x,popupMsg:b,onClose:()=>{j(!1)}}),(0,o.jsx)(d.Z,{visible:f,popupMsg:b,onClose:()=>{v(!1)}}),(0,o.jsx)(n,{visible:l,onClose:y,onEdit:e=>{console.log(e),r.uid===e.dev_type&&r.email_address===e.pc_name&&r.email_type===e.model&&r.display_name===e.c_drive_capacity&&r.profile===e.ram&&r.email_status==e.source?C("No changes were made."):i().put("".concat(config.api,"/api/edit-email-address"),e).then((()=>{_("Email address successfully updated."),j(!x),setTimeout((()=>{g()}),2e3)})).catch((e=>{t(!1),_(e.message),v(!f),console.log(e.message)})),t(!1)},formContent:r,onDelete:e=>{console.log("delete",e)},onError:C,onCloseEdit:y}),(0,o.jsx)("div",{className:"table card table-responsive",children:(0,o.jsx)(m.uE,{cleaner:!0,columns:[{key:"uid",label:"User ID"},"email_address","email_type","display_name","profile",{key:"email_status",label:"Status"},{key:"show_details",label:"",_style:{width:"1%"},filter:!1,sorter:!1}],tableProps:{hover:!0,responsive:!0},columnSorter:!0,items:e,pagination:!0,itemsPerPage:10,tableFilter:!0,scopedColumns:{show_details:e=>(0,o.jsx)("td",{className:"py-2",children:(0,o.jsx)(m.u5,{color:"primary",variant:"outline",shape:"square",size:"sm",onClick:()=>{u(e),h(e),t(!0)},children:"Edit"})})}})})]})}}}]);