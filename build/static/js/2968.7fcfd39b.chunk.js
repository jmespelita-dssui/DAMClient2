"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2968],{29872:function(e,s,t){t.d(s,{v:function(){return a}});const a={appID:"9860caa9-1655-4c97-ba6f-ca9a203de773",redirectUri:"https://dssui-asset-manager.herokuapp.com",api:"https://dssui-asset-manager.herokuapp.com",scopes:["user.read"],authority:"https://login.microsoftonline.com/dssui.onmicrosoft.com",postLogoutRedirectUri:""}},33984:function(e,s,t){var a=t(27998),o=t(46417);s.Z=e=>{let{visible:s,popupMsg:t,onClose:l}=e;return(0,o.jsxs)(a.Tk,{size:"sm",visible:s,onClose:l,children:[(0,o.jsx)(a.p0,{children:(0,o.jsx)(a.fl,{children:"Error"})}),(0,o.jsx)(a.sD,{children:t})]})}},7174:function(e,s,t){var a=t(27998),o=t(46417);s.Z=e=>{let{visible:s,popupMsg:t,onClose:l}=e;return(0,o.jsxs)(a.Tk,{size:"sm",visible:s,onClose:l,children:[(0,o.jsx)(a.p0,{children:(0,o.jsx)(a.fl,{children:"Success"})}),(0,o.jsx)(a.sD,{children:t})]})}},42968:function(e,s,t){t.r(s),t.d(s,{default:function(){return p}});var a=t(47313),o=t(31881),l=t.n(o),c=t(75903),n=t(46417);var r=e=>{let{onAdd:s}=e;const[t,o]=(0,a.useState)("PRINTER"),[l,r]=(0,a.useState)(""),[i,d]=(0,a.useState)("INTERNAL"),[u,h]=(0,a.useState)(""),m=e=>{e.target.reset()};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.lx,{className:"add-user row g-3 needs-validation justify-content-center",onSubmit:e=>{e.preventDefault(),s({cat:t,model:l,source:i,quantity:u}),m(e)},children:[(0,n.jsx)(c.b7,{md:2,children:(0,n.jsxs)(c.LX,{className:"form-select",onChange:e=>{o(e.target.value)},required:!0,children:[(0,n.jsx)("option",{disabled:!0,children:"Select category"}),(0,n.jsx)("option",{defaultValue:"PRINTER",children:"Printer"}),(0,n.jsx)("option",{value:"MONITOR",children:"Monitor"}),(0,n.jsx)("option",{value:"KEYBOARD",children:"Keyboard"}),(0,n.jsx)("option",{value:"MOUSE",children:"Mouse"}),(0,n.jsx)("option",{value:"WEBCAM",children:"Webcam"}),(0,n.jsx)("option",{value:"HEADSET",children:"Headset"}),(0,n.jsx)("option",{value:"USB HUB",children:"USB Hub"})]})}),(0,n.jsx)(c.b7,{md:3,children:(0,n.jsx)(c.jO,{className:"form-control",type:"text",name:"model",placeholder:"Model",onChange:e=>{r(e.target.value.trim())},maxLength:45,required:!0})}),(0,n.jsx)(c.b7,{md:2,children:(0,n.jsxs)(c.LX,{className:"form-select",onChange:e=>{d(e.target.value)},required:!0,children:[(0,n.jsx)("option",{disabled:!0,children:"Select source"}),(0,n.jsx)("option",{value:"INTERNAL",children:"Internal"}),(0,n.jsx)("option",{defaultValue:"EXTERNAL",children:"External"}),(0,n.jsx)("option",{defaultValue:"APSA",children:"APSA"})]})}),(0,n.jsx)(c.b7,{md:1,children:(0,n.jsx)(c.jO,{className:"form-control",type:"text",name:"quantity",placeholder:"qty",onChange:e=>{h(e.target.value.trim())},maxLength:45,required:!0})}),(0,n.jsx)(c.b7,{md:2,children:(0,n.jsx)(c.u5,{type:"submit",color:"secondary",children:"Add accessory"})})]})})},i=t(27998);var d=e=>{let{visible:s,onClose:t,onEdit:o,formContent:l,onDelete:c}=e;const[r,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(""),[x,j]=(0,a.useState)(!1),[v,g]=(0,a.useState)(""),[f,b]=(0,a.useState)(!1);return(0,n.jsxs)(i.Tk,{visible:s,backdrop:"static",onClose:t,children:[(0,n.jsx)(i.p0,{onClose:()=>setVisibleDevice(!1),children:(0,n.jsx)(i.fl,{children:"Edit accessory"})}),(0,n.jsx)(i.sD,{children:(0,n.jsxs)(i.lx,{className:"add-user row g-3 needs-validation justify-content-center",onSubmit:e=>{e.preventDefault();const s={acc_id:l.acc_id,cat:u?r:l.cat,model:x?m:l.acc_model,source:f?v:l.source};h(!1),j(!1),b(!1),o(s)},children:[(0,n.jsx)(i.b7,{md:3,children:(0,n.jsxs)(i.LX,{className:"form-select",onChange:e=>{h(!0),d(e.target.value)},defaultValue:l.cat,required:!0,children:[(0,n.jsx)("option",{disabled:!0,children:"Select category"}),(0,n.jsx)("option",{defaultValue:"PRINTER",children:"Printer"}),(0,n.jsx)("option",{value:"MONITOR",children:"Monitor"}),(0,n.jsx)("option",{value:"KEYBOARD",children:"Keyboard"}),(0,n.jsx)("option",{value:"MOUSE",children:"Mouse"}),(0,n.jsx)("option",{value:"WEBCAM",children:"Webcam"}),(0,n.jsx)("option",{value:"HEADSET",children:"Headset"}),(0,n.jsx)("option",{value:"USB HUB",children:"USB Hub"})]})}),(0,n.jsx)(i.b7,{md:6,children:(0,n.jsx)(i.jO,{className:"form-control",type:"text",name:"model",placeholder:"Model",defaultValue:l.acc_model,onChange:e=>{j(!0),p(e.target.value.trim())},maxLength:45})}),(0,n.jsx)(i.b7,{md:3,children:(0,n.jsxs)(i.LX,{className:"form-select",defaultValue:l.source,onChange:e=>{b(!0),g(e.target.value)},required:!0,children:[(0,n.jsx)("option",{value:"",children:"Select source"}),(0,n.jsx)("option",{value:"INTERNAL",children:"Internal"}),(0,n.jsx)("option",{value:"EXTERNAL",children:"External"}),(0,n.jsx)("option",{value:"APSA",children:"APSA"})]})}),(0,n.jsxs)(i.b7,{xs:12,className:"modal-footer",children:[(0,n.jsx)(i.u5,{color:"secondary",onClick:()=>c(l.acc_id),children:"Delete accessory"}),(0,n.jsx)(i.u5,{color:"primary",type:"submit",children:"Save changes"})]})]})})]})},u=t(7174),h=t(33984),m=t(29872);t(43533);var p=()=>{const[e,s]=(0,a.useState)([]),[t,o]=(0,a.useState)(!1),[i,p]=(0,a.useState)({}),[x,j]=(0,a.useState)({}),[v,g]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),[y,S]=(0,a.useState)(""),E=async()=>{console.log("fetching data..."),l().get("".concat(m.v.api,"/api/accessories")).then((e=>{s(e.data)}))};(0,a.useEffect)((()=>{setTimeout((()=>{E()}),2e3)}),[s]);const C=()=>{o(!1)},N=e=>{S(e),b(!f)};return(0,n.jsxs)("div",{className:"table",children:[(0,n.jsx)(u.Z,{visible:v,popupMsg:y,onClose:()=>{g(!1)}}),(0,n.jsx)(h.Z,{visible:f,popupMsg:y,onClose:()=>{b(!1)}}),(0,n.jsx)(d,{visible:t,onClose:C,onEdit:e=>{i.acc_id===e.acc_id&&i.cat===e.cat&&i.model===e.model?N("No changes were made."):l().put("".concat(m.v.api,"/api/edit-accessory"),e).then((()=>{S("Accessory successfully updated."),g(!v),setTimeout((()=>{E()}),2e3)})).catch((e=>{o(!1),S(e.message),b(!f),console.log(e.message)})),o(!1)},formContent:i,onDelete:e=>{l().delete("".concat(m.v.api,"/api/delete-accessory/").concat(e)).then((()=>{S("Entry successfully deleted."),g(!v),o(!1),setTimeout((()=>{E()}),2e3)})).catch((e=>{o(!1),S(e.message),b(!f)}))},onError:N,onCloseEdit:C}),(0,n.jsx)("div",{className:"table card",children:(0,n.jsx)(r,{onAdd:e=>{console.log("adding accessory:"),console.log(e);let s=[];for(let t=0;t<parseInt(e.quantity);t++)s.push(l().post("".concat(m.v.api,"/api/add-accessory"),{cat:e.cat,model:e.model,source:e.source}));l().all(s).then((e=>{S("Accessory successfully added."),g(!v),setTimeout((()=>{E()}),2e3)})).catch((e=>{o(!1),S(e.message),b(!f),console.log(e.message)}))},accessoryList:e,onError:N})}),(0,n.jsx)("div",{className:"table card",children:(0,n.jsx)(c.uE,{cleaner:!0,columns:["acc_id",{key:"cat",label:"Category"},{key:"acc_model",label:"Model"},"source",{key:"show_details",label:"",_style:{width:"1%"},filter:!1,sorter:!1}],tableProps:{hover:!0,responsive:!0},columnSorter:!0,items:e,pagination:!0,itemsPerPage:10,tableFilter:!0,scopedColumns:{show_details:e=>(0,n.jsx)("td",{className:"py-2",children:(0,n.jsx)(c.u5,{color:"primary",variant:"outline",shape:"square",size:"sm",onClick:()=>{p(e),j(e),o(!t)},children:"Edit"})})}})})]})}}}]);