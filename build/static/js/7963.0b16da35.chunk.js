"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7963],{29872:function(e,s,c){c.d(s,{v:function(){return n}});const n={appID:"9860caa9-1655-4c97-ba6f-ca9a203de773",redirectUri:"https://dssui-asset-manager.herokuapp.com",api:"https://dssui-asset-manager.herokuapp.com",scopes:["user.read"],authority:"https://login.microsoftonline.com/dssui.onmicrosoft.com",postLogoutRedirectUri:""}},47276:function(e,s,c){c.r(s),c.d(s,{default:function(){return I}});var n=c(47313),i=c(29872),a=c(31881),l=c.n(a),t=c(75903),o=c(22370),d=c(33444),r=c(33984),m=c(7174),u=c(59404);const h=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z' class='ci-primary'/><rect width='32' height='200' x='168' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='240' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='312' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z' class='ci-primary'/>"],x=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='440 240 272 240 272 72 240 72 240 240 72 240 72 272 240 272 240 440 272 440 272 272 440 272 440 240' class='ci-primary'/>"];var p=c(46417);var j=e=>{let{accessories:s,unassignAccessory:c,assignAccessory:i,edit:a}=e;const[l,d]=(0,n.useState)(a);return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(t.KB,{children:(0,p.jsxs)(t.rb,{xs:{cols:2},className:"justify-content-center",children:[(0,p.jsx)(t.b7,{md:5,children:(0,p.jsx)(t.GZ,{children:(0,p.jsxs)(t.Eb,{children:[(0,p.jsx)("div",{className:"d-flex w-100 justify-content-between",children:(0,p.jsx)("h5",{className:"mb-1",children:"Device info"})}),(0,p.jsxs)("p",{className:"mb-1 text-medium-emphasis",children:["Owner:"," ",(0,p.jsxs)("span",{className:"text-body",children:[s[0].first_name," ",s[0].last_name]}),(0,p.jsx)("br",{}),"PC Name:"," ",(0,p.jsxs)("span",{className:"text-body",children:[s[0].pc_name,(0,p.jsx)(t.If,{content:"Unassign device",children:(0,p.jsx)(o.Z,{icon:h,className:"action-icon delete ".concat(l&&null!==s[0].pc_name?"":"hidden"),style:{marginLeft:"5px"},onClick:()=>c(s[0],"PC")})}),(0,p.jsx)(t.If,{content:"Assign PC",children:(0,p.jsx)(o.Z,{icon:x,style:{color:"green"},className:"action-icon ".concat(l&&null==s[0].pc_name?"":"hidden"),onClick:()=>i(s,"PC")})})," "]}),(0,p.jsx)("br",{}),"Device type: ",(0,p.jsx)("span",{className:"text-body",children:s[0].dev_type}),(0,p.jsx)("br",{}),"Model: ",(0,p.jsx)("span",{className:"text-body",children:s[0].model}),(0,p.jsx)("br",{}),"Source: ",(0,p.jsx)("span",{className:"text-body",children:s[0].source}),(0,p.jsx)("br",{}),"IP Address:",(0,p.jsxs)("span",{className:"text-body",children:[s[0].ip_address,(0,p.jsx)(t.If,{content:"Unassign IP address",children:(0,p.jsx)(o.Z,{icon:h,className:"action-icon delete ".concat(l&&null!==s[0].ip_address?"":"hidden"),onClick:()=>c(s,"IP")})}),(0,p.jsx)(t.If,{content:"Assign PC",children:(0,p.jsx)(o.Z,{icon:x,style:{color:"green"},className:"action-icon ".concat(l&&null!=s[0].pc_name&&null==s[0].ip_address?"":"hidden"),onClick:()=>i(s[0],"IP")})})," "]}),(0,p.jsx)("br",{}),"Domain UID:"," ",(0,p.jsxs)("span",{className:"text-body",children:[s[0].dom_uid,(0,p.jsx)(t.If,{content:"Unassign UID",children:(0,p.jsx)(o.Z,{icon:h,className:"action-icon delete delete ".concat(l&&null!==s[0].dom_uid?"":"hidden"),style:{marginLeft:"5px",color:""},onClick:()=>c(s,"UID")})}),(0,p.jsx)(t.If,{content:"Assign PC",children:(0,p.jsx)(o.Z,{icon:x,style:{color:"green"},className:"action-icon ".concat(l&&null!=s[0].first_name&&null==s[0].dom_uid?"":"hidden"),onClick:()=>i(s[0],"UID")})})," "]}),(0,p.jsx)("br",{})]})]})})}),(0,p.jsx)(t.b7,{children:(0,p.jsxs)(t.GZ,{children:[(0,p.jsxs)(t.Eb,{children:[(0,p.jsx)("div",{className:"d-flex w-100 justify-content-between",children:(0,p.jsx)("h5",{className:"mb-1",children:"Accessories"})}),(0,p.jsxs)("p",{className:"text-medium-emphasis",children:[(0,p.jsx)(t.If,{content:"Add monitor",children:(0,p.jsx)(o.Z,{icon:x,style:{color:"green"},className:"action-icon ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>i(s,"MONITOR")})})," ","Monitor:"," ",s.filter((e=>"MONITOR"===e.cat)).map((e=>(0,p.jsxs)("span",{className:"text-body",children:[e.acc_model," ",(0,p.jsx)(t.If,{content:"Unassign",children:(0,p.jsx)(o.Z,{icon:h,className:"action-icon delete ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>c(e,"ACCESSORY")})})]},e.acc_id))),(0,p.jsx)("br",{}),(0,p.jsx)(t.If,{content:"Add mouse",children:(0,p.jsx)(o.Z,{icon:x,style:{color:"green"},className:"action-icon ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>i(s,"MOUSE")})})," ","Mouse:"," ",s.filter((e=>"MOUSE"===e.cat)).map((e=>(0,p.jsxs)("span",{className:"text-body",children:[" ",e.acc_model," ",(0,p.jsx)(t.If,{content:"Unassign",children:(0,p.jsx)(o.Z,{icon:h,className:"action-icon delete ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>c(e,"ACCESSORY")})})]},e.acc_id))),(0,p.jsx)("br",{}),(0,p.jsx)(t.If,{content:"Add headset",children:(0,p.jsx)(o.Z,{icon:x,style:{color:"green"},className:"action-icon ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>i(s,"HEADSET")})})," ","Headset:"," ",s.filter((e=>"HEADSET"===e.cat)).map((e=>(0,p.jsxs)("span",{className:"text-body",children:[" ",e.acc_model," ",(0,p.jsx)(t.If,{content:"Unassign",children:(0,p.jsx)(o.Z,{icon:h,className:"action-icon delete ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>c(e,"ACCESSORY")})})]},e.acc_id))),(0,p.jsx)("br",{})]}),(0,p.jsx)("small",{children:"Others"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{className:" text-medium-emphasis",children:[(0,p.jsx)(t.If,{content:"Add USB hub",children:(0,p.jsx)(o.Z,{icon:x,style:{color:"green"},className:"action-icon ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>i(s,"USB HUB")})})," ","USB Hub:"," ",s.filter((e=>"USB HUB"===e.cat)).map((e=>(0,p.jsxs)("span",{className:"text-body",children:[" ",e.acc_model," ",(0,p.jsx)(t.If,{content:"Unassign",children:(0,p.jsx)(o.Z,{icon:h,className:"action-icon delete ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>c(e,"ACCESSORY")})})]},e.acc_id))),(0,p.jsx)("br",{}),(0,p.jsx)(t.If,{content:"Add printer",children:(0,p.jsx)(o.Z,{icon:x,style:{color:"green"},className:"action-icon ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>i(s,"PRINTER")})})," ","Printer:"," ",s.filter((e=>"PRINTER"===e.cat)).map((e=>(0,p.jsxs)("span",{className:"text-body",children:[" ",e.acc_model," ",(0,p.jsx)(t.If,{content:"Unassign",children:(0,p.jsx)(o.Z,{icon:h,className:"action-icon delete ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>c(e,"ACCESSORY")})})]},e.acc_id))),(0,p.jsx)("br",{}),(0,p.jsx)(t.If,{content:"Add keyboard",children:(0,p.jsx)(o.Z,{icon:x,style:{color:"green"},className:"action-icon ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>i(s,"KEYBOARD")})})," ","Keyboard:"," ",s.filter((e=>"KEYBOARD"===e.cat)).map((e=>(0,p.jsxs)("span",{className:"text-body",children:[" ",e.acc_model," ",(0,p.jsx)(t.If,{content:"Unassign",children:(0,p.jsx)(o.Z,{icon:h,className:"action-icon delete ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>c(e,"ACCESSORY")})})]},e.acc_id))),(0,p.jsx)("br",{}),(0,p.jsx)(t.If,{content:"Add webcam",children:(0,p.jsx)(o.Z,{icon:x,style:{color:"green"},className:"action-icon ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>i(s,"WEBCAM")})})," ","Webcam:"," ",s.filter((e=>"WEBCAM"===e.cat)).map((e=>(0,p.jsxs)("span",{className:"text-body",children:[" ",e.acc_model," ",(0,p.jsx)(t.If,{content:"Unassign",children:(0,p.jsx)(o.Z,{icon:h,className:"action-icon delete ".concat(l&&null!==s[0].pc_name?"":"hidden"),onClick:()=>c(e,"ACCESSORY")})})]},e.acc_id))),(0,p.jsx)("br",{})]}),l&&null!=s[0].acc_id?(0,p.jsx)(t.u5,{color:"link",onClick:()=>i(s,"SET"),children:(0,p.jsx)("small",{children:"Re-assign accessories"})}):""]}),s[0].first_name?(0,p.jsx)(t.Eb,{className:"footer justify-content-end",children:l?(0,p.jsx)(t.u5,{color:"primary",onClick:()=>d(!1),children:"Save"}):(0,p.jsx)(t.u5,{color:"primary",onClick:()=>d(!0),children:"Edit"})}):""]})})]})})})},v=c(27998);var g=e=>{let{visible:s,onClose:c,onSubmit:i,accessory:a,type:l,filteredAccessories:t}=e;const[o,d]=(0,n.useState)("");return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(v.Tk,{visible:s,backdrop:"static",onClose:c,children:[(0,p.jsx)(v.p0,{onClose:()=>setVisibleDevice(!1),children:(0,p.jsx)(v.fl,{children:"Add accessory"})}),(0,p.jsx)(v.sD,{children:(0,p.jsxs)(v.lx,{className:"add-user row g-3 needs-validation",onSubmit:()=>i(o),children:[(0,p.jsx)(v.b7,{md:12,children:(0,p.jsxs)(v.YR,{className:"mb-3",children:[(0,p.jsx)(v.wV,{id:"basic-addon2",children:"PC Name"}),(0,p.jsx)(v.jO,{placeholder:a.length>0?a[0].pc_name:"","aria-label":"Accessory PC Name","aria-describedby":"basic-addon2",disabled:!0}),(0,p.jsxs)(v.LX,{onChange:e=>{d(e.target.value)},required:!0,children:[(0,p.jsxs)("option",{value:"",children:["SELECT ",l]}),t.map(((e,s)=>(0,p.jsxs)("option",{value:e.acc_id,children:[e.acc_id," ",e.acc_model]},s)))]})]})}),(0,p.jsxs)(v.b7,{xs:12,className:"modal-footer",children:[(0,p.jsx)(v.u5,{color:"secondary",onClick:c,children:"Cancel"}),(0,p.jsx)(v.u5,{color:"primary",type:"submit",children:"Confirm"})]})]})})]})})};var b=e=>{let{visible:s,onAdd:c,deviceList:i,onClose:a}=e;const[l,t]=(0,n.useState)("");return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(v.Tk,{visible:s,backdrop:"static",onClose:a,children:[(0,p.jsx)(v.p0,{children:(0,p.jsx)(v.fl,{children:"Assign PC"})}),(0,p.jsx)(v.sD,{children:(0,p.jsxs)(v.lx,{className:"add-user row g-3 needs-validation justify-content-center",onSubmit:()=>c(l),children:[(0,p.jsx)(v.b7,{md:7,children:(0,p.jsxs)(v.LX,{className:"form-select",onChange:e=>{t(e.target.value),console.log("selected dev_ID: "+e.target.value)},defaultValue:"",required:!0,children:[(0,p.jsx)("option",{value:"",children:"Select device"}),i.map(((e,s)=>(0,p.jsx)("option",{value:e.dev_id,children:e.pc_name},s)))]})}),(0,p.jsx)(v.b7,{md:4,children:(0,p.jsx)(v.u5,{type:"submit",color:"secondary",children:"Assign device"})})]})})]})})};var y=e=>{let{visible:s,onAdd:c,ipList:i,onClose:a}=e;const[l,t]=(0,n.useState)("");return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(v.Tk,{visible:s,backdrop:"static",onClose:a,children:[(0,p.jsx)(v.p0,{children:(0,p.jsx)(v.fl,{children:"Assign IP"})}),(0,p.jsx)(v.sD,{children:(0,p.jsxs)(v.lx,{className:"add-user row g-3 needs-validation justify-content-center",onSubmit:()=>c(l),children:[(0,p.jsx)(v.b7,{md:7,children:(0,p.jsxs)(v.LX,{className:"form-select",onChange:e=>{t(e.target.value)},defaultValue:"",required:!0,children:[(0,p.jsx)("option",{value:"",children:"Select IP"}),i.map(((e,s)=>(0,p.jsx)("option",{value:e.ip_address,children:e.ip_address},s)))]})}),(0,p.jsx)(v.b7,{md:4,children:(0,p.jsx)(v.u5,{type:"submit",color:"secondary",children:"Assign IP"})})]})})]})})};var f=e=>{let{visible:s,onAdd:c,uidList:i,employee:a,onClose:l}=e;const[t,o]=(0,n.useState)("");return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(v.Tk,{visible:s,backdrop:"static",onClose:l,children:[(0,p.jsx)(v.p0,{children:(0,p.jsx)(v.fl,{children:"Assign UID "})}),(0,p.jsx)(v.sD,{children:(0,p.jsxs)(v.lx,{className:"add-user row g-3 needs-validation justify-content-center",onSubmit:()=>c({employee:a,uid:t}),children:[(0,p.jsx)(v.b7,{md:7,children:(0,p.jsxs)(v.LX,{className:"form-select",onChange:e=>{o(e.target.value)},defaultValue:"",required:!0,children:[(0,p.jsx)("option",{value:"",children:"Select UID"}),i.map(((e,s)=>(0,p.jsx)("option",{value:e.dom_uid,children:e.dom_uid},s)))]})}),(0,p.jsx)(v.b7,{md:4,children:(0,p.jsx)(v.u5,{type:"submit",color:"secondary",children:"Assign UID"})})]})})]})})};var _=e=>{let{onAdd:s,employeeList:c,deviceList:i}=e;const[a,l]=(0,n.useState)(""),[t,o]=(0,n.useState)(""),d=e=>{e.target.reset(),l("Select employee"),o("Select device")};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(v.lx,{className:"add-user row g-3 needs-validation justify-content-center",id:"devToEmpForm",onSubmit:e=>{e.preventDefault(),s({employee:a,device:t}),d(e)},children:[(0,p.jsx)(v.b7,{md:3,children:(0,p.jsxs)(v.LX,{className:"form-select",onChange:e=>{l(e.target.value)},defaultValue:"",required:!0,children:[(0,p.jsx)("option",{value:"",children:"Select employee"}),c.map(((e,s)=>(0,p.jsxs)("option",{value:e.emp_id,children:[e.last_name,", ",e.first_name]},s)))]})}),(0,p.jsx)(v.b7,{md:3,children:(0,p.jsxs)(v.LX,{className:"form-select",onChange:e=>{o(e.target.value),console.log("selected dev_ID: "+e.target.value)},defaultValue:"",required:!0,children:[(0,p.jsx)("option",{value:"",children:"Select device"}),i.map(((e,s)=>(0,p.jsx)("option",{value:e.dev_id,children:e.pc_name},s)))]})}),(0,p.jsx)(v.b7,{md:3,children:(0,p.jsx)(v.u5,{type:"submit",color:"secondary",children:"Assign device"})})]})})};var C=e=>{let{onAdd:s,employeeList:c,uidList:i}=e;const[a,l]=(0,n.useState)(""),[t,o]=(0,n.useState)(""),d=e=>{e.target.reset(),l("Select employee"),o("Select UID")};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(v.lx,{className:"add-user row g-3 needs-validation justify-content-center",id:"devToEmpForm",onSubmit:e=>{e.preventDefault(),s({employee:a,uid:t}),d(e)},children:[(0,p.jsx)(v.b7,{md:3,children:(0,p.jsxs)(v.LX,{className:"form-select",onChange:e=>{l(e.target.value)},defaultValue:"",required:!0,children:[(0,p.jsx)("option",{value:"",children:"Select employee"}),c.map(((e,s)=>(0,p.jsxs)("option",{value:e.emp_id,children:[e.last_name,", ",e.first_name]},s)))]})}),(0,p.jsx)(v.b7,{md:3,children:(0,p.jsxs)(v.LX,{className:"form-select",onChange:e=>{o(e.target.value)},defaultValue:"",required:!0,children:[(0,p.jsx)("option",{value:"",children:"Select UID"}),i.map(((e,s)=>(0,p.jsx)("option",{value:e.dom_uid,children:e.dom_uid},s)))]})}),(0,p.jsx)(v.b7,{md:3,children:(0,p.jsx)(v.u5,{type:"submit",color:"secondary",children:"Assign UID"})})]})})};var S=e=>{let{visible:s,currentDevID:c,onReassign:i,deviceList:a,onClose:l}=e;const[t,o]=(0,n.useState)("");return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(v.Tk,{visible:s,backdrop:"static",onClose:l,children:[(0,p.jsx)(v.p0,{children:(0,p.jsx)(v.fl,{children:"Re-assign accessories"})}),(0,p.jsx)(v.sD,{children:(0,p.jsxs)(v.lx,{className:"add-user row g-3 needs-validation justify-content-center",onSubmit:()=>i(t),children:[(0,p.jsx)(v.b7,{md:7,children:(0,p.jsxs)(v.LX,{className:"form-select",onChange:e=>{o(e.target.value)},defaultValue:"",required:!0,children:[(0,p.jsx)("option",{value:"",children:"Select device"}),a.filter((e=>e.dev_id!==c)).map(((e,s)=>(0,p.jsx)("option",{value:e.dev_id,children:e.pc_name},s)))]})}),(0,p.jsx)(v.b7,{md:4,children:(0,p.jsx)(v.u5,{type:"submit",color:"secondary",children:"Confirm"})})]})})]})})},N=c(5415);c(43533);var I=()=>{const[e,s]=(0,n.useState)([]),[c,a]=(0,n.useState)([]),[h,x]=(0,n.useState)([]),[v,I]=(0,n.useState)([]),[D,A]=(0,n.useState)([]),[k,U]=(0,n.useState)([]),[Z,E]=(0,n.useState)([]),[L,w]=(0,n.useState)([]),[T,P]=(0,n.useState)([]),[R,O]=(0,n.useState)([]),[V,M]=(0,n.useState)([]),[F,H]=(0,n.useState)(!1),[q,Y]=(0,n.useState)(!1),[B,X]=(0,n.useState)(!1),[z,K]=(0,n.useState)(!1),[W,G]=(0,n.useState)(!1),[J,Q]=(0,n.useState)(!1),[$,ee]=(0,n.useState)(!1),[se,ce]=(0,n.useState)(!1),[ne,ie]=(0,n.useState)(""),[ae,le]=(0,n.useState)({}),[te,oe]=(0,n.useState)([{first_name:"",last_name:"",pc_name:"",dev_type:"",model:"",source:"",ip_address:""}]),[de,re]=(0,n.useState)([]);const me=async()=>{l().get("".concat(i.v.api,"/api/employees")).then((e=>{x(e.data)})).catch((e=>{ie(e.message),Y(!q),console.log(e.message)})),ue(),l().get("".concat(i.v.api,"/api/unused-ip-addresses")).then((e=>{P(e.data)})).catch((e=>{ie(e.message),Y(!q),console.log(e.message)})),l().get("".concat(i.v.api,"/api/unused-dom-uids")).then((e=>{O(e.data)})).catch((e=>{ie(e.message),Y(!q),console.log(e.message)})),l().get("".concat(i.v.api,"/api/unused-dom-uid-emp")).then((e=>{U(e.data)})).catch((e=>{ie(e.message),Y(!q),console.log(e.message)})),l().get("".concat(i.v.api,"/api/devices")).then((e=>{A(e.data)})).catch((e=>{ie(e.message),Y(!q),console.log(e.message)})),l().get("".concat(i.v.api,"/api/dev-mgmt")).then((e=>{s(e.data)})).catch((e=>{ie(e.message),Y(!q),console.log(e.message)}))},ue=()=>{l().get("".concat(i.v.api,"/api/unused-devices")).then((e=>{I(e.data)})).catch((e=>{ie(e.message),Y(!q),console.log(e.message)}))},he=e=>{l().get("".concat(i.v.api,"/api/dev-acc-assigned/").concat(e)).then((e=>{oe(e.data)})).catch((e=>{ie(e.message),Y(!q),console.log(e.message)}))},xe=e=>{l().post("".concat(i.v.api,"/api/add-emp-uid"),{empID:e.employee,domUID:e.uid}).then((e=>{ie("UID successfully assigned."),ee(!1),H(!F),he(te[0].dev_id),setTimeout((()=>{me()}),2e3)})).catch((e=>{Q(!1),ie(e.message),Y(!q),console.log(e.message)}))};(0,n.useEffect)((()=>{setTimeout((()=>{me()}),2e3)}),[a]);const pe=e=>{ie(e),Y(!q)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(m.Z,{visible:F,popupMsg:ne,onClose:()=>{H(!1)}}),(0,p.jsx)(r.Z,{visible:q,popupMsg:ne,onClose:()=>{Y(!1)}}),(0,p.jsx)(u.Z,{item:V,visible:B,onClose:()=>{X(!1)},onSubmit:()=>{"ACCESSORY"===de?l().delete("".concat(i.v.api,"/api/delete-dev-acc/").concat(V.acc_id)).then((()=>{X(!1),ie("Accessory successfully unassigned."),H(!F),he(V.dev_id)})).catch((e=>{X(!1),ie(e.message),Y(!q)})):"PC"===de?l().delete("".concat(i.v.api,"/api/delete-emp-dev/").concat(V.dev_id)).then((()=>{X(!1),ie("Device successfully unassigned."),H(!F),setTimeout((()=>{window.location.reload(!1)}),2e3)})).catch((e=>{X(!1),ie(e.message),Y(!q)})):"IP"==de?l().delete("".concat(i.v.api,"/api/delete-dev-ip/").concat(te[0].dev_id)).then((()=>{X(!1),ie("IP successfully unassigned."),H(!F),he(te[0].dev_id),setTimeout((()=>{me()}),2e3)})).catch((e=>{X(!1),ie(e.message),Y(!q)})):"UID"==de&&l().delete("".concat(i.v.api,"/api/delete-emp-uid/").concat(te[0].emp_id)).then((()=>{X(!1),ie("UID successfully unassigned."),H(!F),he(te[0].dev_id),setTimeout((()=>{me()}),2e3)})).catch((e=>{X(!1),ie(e.message),Y(!q)}))},popupMsg:ne}),(0,p.jsx)(y,{visible:J,onClose:()=>{Q(!1)},onAdd:e=>{l().post("".concat(i.v.api,"/api/add-dev-ip"),{ip:e,devID:V.dev_id}).then((e=>{ie("IP successfully assigned."),Q(!1),H(!F),he(V.dev_id),setTimeout((()=>{me()}),2e3)})).catch((e=>{Q(!1),ie(e.message),Y(!q),console.log(e.message)}))},ipList:T}),(0,p.jsx)(f,{visible:$,onClose:()=>{ee(!1)},employee:te[0].emp_id,onAdd:xe,uidList:R}),(0,p.jsx)(g,{visible:z,onClose:()=>{K(!1)},onSubmit:e=>{l().post("".concat(i.v.api,"/api/add-dev-acc"),{devID:V[0].dev_id,accID:e}).then((e=>{ie("Accessory successfully assigned."),K(!1),H(!F),he(V[0].dev_id)})).catch((e=>{setVisibleDevice(!1),ie(e.message),Y(!q),console.log(e.message)}))},filteredAccessories:Z,accessory:V,type:de}),(0,p.jsx)(b,{visible:W,onClose:()=>{G(!1)},onAdd:e=>{l().post("".concat(i.v.api,"/api/add-emp-dev"),{empID:V[0].emp_id,devID:e}).then((e=>{ie("Device successfully assigned."),H(!F),G(!1),he(V[0].dev_id),setTimeout((()=>{me()}),2e3)})).catch((e=>{setVisibleDevice(!1),ie(e.message),Y(!q),console.log(e.message)}))},deviceList:v}),(0,p.jsx)(S,{visible:se,onClose:()=>{ce(!1)},deviceList:D,currentDevID:te[0].dev_id,onReassign:e=>{let s={currentDevID:te[0].dev_id,devID:e};l().put("".concat(i.v.api,"/api/reassign-acc"),s).then((()=>{ie("Accessory successfully reassigned."),ce(!1),H(!F),he(te[0].dev_id),setTimeout((()=>{me()}),2e3)})).catch((e=>{ce(!1),ie(e.message),Y(!q),console.log(e.message)}))}}),(0,p.jsxs)("div",{className:"table card",children:[(0,p.jsx)(j,{pcDetails:ae,accessories:te,unassignAccessory:(e,s)=>{M(e),re(s),ie("Are you sure?"),X(!0)},assignAccessory:(e,s)=>{M(e),re(s),"PC"===s?(ue(),G(!0)):"IP"===s?Q(!0):"UID"===s?ee(!0):"SET"===s?ce(!0):l().get("".concat(i.v.api,"/api/dev-acc-id/").concat(s)).then((e=>{E(e.data),K(!0)})).catch((e=>{pe(e.message),console.log(e.message)}))},edit:!1}),(0,p.jsxs)(t.uz,{flush:!0,children:[(0,p.jsxs)(t.Ob,{itemKey:1,children:[(0,p.jsxs)(t.Lv,{children:[(0,p.jsx)(o.Z,{icon:d.g}),(0,p.jsx)("span",{style:{marginLeft:"7px"},children:"Assign device"})]}),(0,p.jsx)(t.qI,{children:(0,p.jsx)(_,{onAdd:e=>{l().post("".concat(i.v.api,"/api/add-emp-dev"),{empID:e.employee,devID:e.device}).then((e=>{ie("Device successfully assigned."),H(!F),setTimeout((()=>{me()}),2e3)})).catch((e=>{setVisibleDevice(!1),ie(e.message),Y(!q),console.log(e.message)}))},employeeList:h,deviceList:v})})]}),(0,p.jsxs)(t.Ob,{itemKey:2,children:[(0,p.jsxs)(t.Lv,{children:[(0,p.jsx)(o.Z,{icon:d.g}),(0,p.jsx)("span",{style:{marginLeft:"7px"},children:"Assign UID"})]}),(0,p.jsx)(t.qI,{children:(0,p.jsx)(C,{onAdd:xe,employeeList:k,uidList:R})})]})]})]}),(0,p.jsxs)("div",{className:"table card",children:[(0,p.jsx)(N.Z,{fileName:"devices_",rows:e,columns:["Last Name","First Name","Status","Dev Type","PC Name","IP Address"]}),(0,p.jsx)(t.uE,{cleaner:!0,columns:["last_name","first_name","status","dev_type","pc_name","ip_address","dom_uid",{key:"show_details",label:"",_style:{width:"1%"},filter:!1,sorter:!1}],tableProps:{hover:!0,responsive:!0},columnSorter:!0,items:e,pagination:!0,itemsPerPage:10,tableFilter:!0,scopedColumns:{show_details:e=>(0,p.jsx)("td",{className:"py-2",children:e.dev_id?(0,p.jsx)(t.u5,{color:"primary",variant:"outline",shape:"square",size:"sm",onClick:()=>{var s;le(e),null!==e.dev_id?he(e.dev_id):(s=e.dev_id,l().get("".concat(i.v.api,"/api/dev-acc-assigned-mult/").concat(s)).then((e=>{oe(e.data)})).catch((e=>{ie(e.message),Y(!q),console.log(e.message)})))},children:"View"}):""})}})]})]})}},5415:function(e,s,c){var n=c(47313),i=c(96285),a=(c(90435),c(75903)),l=c(46417);s.Z=e=>{let{fileName:s,columns:c,rows:t}=e;const o=(0,n.useRef)(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"d-flex flex-row-reverse",children:(0,l.jsx)(i.DownloadTableExcel,{filename:"".concat(s).concat((()=>{let e=new Date,s=e.getDate(),c=e.getMonth()+1,n=e.getFullYear();return"".concat(n,"-").concat(c<10?"0".concat(c):"".concat(c),"-").concat(s)})()),sheet:"users",currentTableRef:o.current,children:(0,l.jsx)(a.u5,{size:"sm",color:"secondary",children:"Export to excel"})})}),(0,l.jsx)("table",{ref:o,className:"hidden",children:(0,l.jsxs)("tbody",{children:[(0,l.jsx)("tr",{children:c.map(((e,s)=>(0,l.jsx)("th",{children:e},s)))}),t.map(((e,s)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.last_name}),(0,l.jsx)("td",{children:e.first_name}),(0,l.jsx)("td",{children:e.status}),(0,l.jsx)("td",{children:e.dev_type}),(0,l.jsx)("td",{children:e.pc_name}),(0,l.jsx)("td",{children:e.ip_address})]},s)))]})})]})}},59404:function(e,s,c){var n=c(27998),i=c(46417);s.Z=e=>{let{visible:s,onClose:c,onSubmit:a,item:l,popupMsg:t}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(n.Tk,{visible:s,size:"sm",backdrop:"static",onClose:c,children:[(0,i.jsx)(n.p0,{children:(0,i.jsx)(n.fl,{children:"Save changes"})}),(0,i.jsx)(n.sD,{children:(0,i.jsxs)(n.lx,{className:"add-user row g-3 needs-validation",onSubmit:()=>a(l),children:[(0,i.jsx)(n.b7,{md:12,children:t}),(0,i.jsxs)(n.b7,{xs:12,className:"modal-footer",children:[(0,i.jsx)(n.u5,{color:"secondary",onClick:c,children:"Cancel"}),(0,i.jsx)(n.u5,{color:"primary",type:"submit",children:"Confirm"})]})]})})]})})}},33984:function(e,s,c){var n=c(27998),i=c(46417);s.Z=e=>{let{visible:s,popupMsg:c,onClose:a}=e;return(0,i.jsxs)(n.Tk,{size:"sm",visible:s,onClose:a,children:[(0,i.jsx)(n.p0,{children:(0,i.jsx)(n.fl,{children:"Error"})}),(0,i.jsx)(n.sD,{children:c})]})}},7174:function(e,s,c){var n=c(27998),i=c(46417);s.Z=e=>{let{visible:s,popupMsg:c,onClose:a}=e;return(0,i.jsxs)(n.Tk,{size:"sm",visible:s,onClose:a,children:[(0,i.jsx)(n.p0,{children:(0,i.jsx)(n.fl,{children:"Success"})}),(0,i.jsx)(n.sD,{children:c})]})}}}]);